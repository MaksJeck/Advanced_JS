(()=>{"use strict";onload=()=>{Vue.component("custom-button",{props:["click"],template:"\n      <button @click=\"$emit('click')\">\n      <slot></slot>\n      </button>\n    "}),Vue.component("goods-item",{props:["item"],template:'\n    <div class="goods-item">\n      <h3>{{item.title}}</h3>\n      <div> {{item.price}} </div>\n      <div>\n      <custom-button @click="addGood">Добавть товар</custom-button>\n      </div>\n    </div>\n    ',methods:{addGood(){var t;t=this.item.id,fetch(`${URL}/${t}`,{method:"POST",headers:{"Content-type":"application/json"}})}}}),Vue.component("basket",{props:["close"],data:function(){return{basketGoods:[]}},template:'\n    <div class="basket-box">\n    <div class="box">\n      <h1>Корзина</h1>\n      <custom-button @click="$emit(\'close\')">Закрыть</custom-button> \n      </div>\n      <div>\n      <basket-item v-for="item in basketGoods" :item="item"></basket-item>\n      </div>             \n    </div>\n    ',mounted(){fetch(`${URL}/basketgoods`).then((t=>t.json())).then((t=>t)).then((t=>{this.basketGoods=t}))}}),Vue.component("basket-item",{props:["item"],template:'\n    <div class="basket-item">\n      <div>{{item.title}}</div>\n      <div> {{item.price}} </div>\n      <div> {{item.count}} </div>\n    '}),new Vue({el:"#app",data:{goods:[],filteredGoods:[],search:"",basketVision:!1},mounted(){(function(t,e,o="GET"){return new Promise(((i,s)=>{fetch(`${t}${e}`,{method:o}).then((t=>t.json())).then((t=>{i(t)}))}))})("http://localhost:8080","/goods.json").then((t=>{this.goods=t,this.filteredGoods=t}))},methods:{filter(){this.filteredGoods=this.goods.filter((({title:t})=>new RegExp(this.search,"i").test(t)))},showBasket(){this.basketVision=!0},closeBasket(){this.basketVision=!1}}})}})();